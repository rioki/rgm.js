var rgm={version:"0.1.0"};rgm.vec2=function(){switch(arguments.length){case 0:return new Float32Array(2);case 1:return"number"==typeof arguments[0]?new Float32Array([arguments[0],arguments[0]]):new Float32Array(arguments[0]);case 2:return new Float32Array([arguments[0],arguments[1]]);default:throw new Error("vec2: invalid number of arguments")}},rgm.vec3=function(){switch(arguments.length){case 0:return new Float32Array(3);case 1:return"number"==typeof arguments[0]?new Float32Array([arguments[0],arguments[0],arguments[0]]):new Float32Array(arguments[0]);case 3:return new Float32Array([arguments[0],arguments[1],arguments[2]]);default:throw new Error("vec3: invalid number of arguments")}},rgm.vec4=function(){switch(arguments.length){case 0:return new Float32Array(4);case 1:return"number"==typeof arguments[0]?new Float32Array([arguments[0],arguments[0],arguments[0],arguments[0]]):new Float32Array(arguments[0]);case 4:return new Float32Array([arguments[0],arguments[1],arguments[2],arguments[3]]);default:throw new Error("vec4: invalid number of arguments")}},rgm.mat3=function(){switch(arguments.length){case 0:return new Float32Array([1,0,0,0,1,0,0,0,1]);case 1:return"number"==typeof arguments[0]?new Float32Array([arguments[0],0,0,0,arguments[0],0,0,0,arguments[0]]):new Float32Array(arguments[0]);case 9:return new Float32Array([arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]]);default:throw new Error("vec2: invalid number of arguments")}},rgm.mat4=function(){switch(arguments.length){case 0:return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);case 1:return"number"==typeof arguments[0]?new Float32Array([arguments[0],0,0,0,0,arguments[0],0,0,0,0,arguments[0],0,0,0,0,arguments[0]]):new Float32Array(arguments[0]);case 16:return new Float32Array([arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]]);default:throw new Error("vec2: invalid number of arguments")}},rgm.quat=function(){switch(arguments.length){case 0:return rgm.vec4(0,0,0,1);case 1:return rgm.vec4(arguments[0]);case 4:return rgm.vec4([arguments[0],arguments[1],arguments[2],arguments[3]]);default:throw new Error("vec2: invalid number of arguments")}},rgm.add=function(r,t){if(r.length!=t.length)throw Error("add: a and b must be the same dimension");for(var n=new Float32Array(r.length),e=0;e<r.length;e++)n[e]=r[e]+t[e];return n},rgm.sub=function(r,t){if(r.length!=t.length)throw Error("sub: a and b must be the same dimension");for(var n=new Float32Array(r.length),e=0;e<r.length;e++)n[e]=r[e]-t[e];return n},rgm.neg=function(r){for(var t=new Float32Array(r.length),n=0;n<r.length;n++)t[n]=-r[n];return t},rgm.dot=function(r,t){for(var n=0,e=0;e<r.length;e++)n+=r[e]*t[e];return n},rgm.cross=function(r,t){if(3!=r.length||3!=t.length)throw Error("cross: a and b must be 3D");var n=new Float32Array(3);return n[0]=r[1]*t[2]-r[2]*t[1],n[1]=r[2]*t[0]-r[0]*t[2],n[2]=r[0]*t[1]-r[1]*t[0],n},rgm.vmult=function(r,t){if(r.length!=t.length)throw Error("vmult: a and b must be the same dimension");for(var n=new Float32Array(r.length),e=0;e<r.length;e++)n[e]=r[e]*t[e];return n},rgm.vsmult=function(r,t){for(var n=new Float32Array(r.length),e=0;e<r.length;e++)n[e]=r[e]*t;return n},rgm.length=function(r){return Math.sqrt(rgm.dot(r,r))},rgm.normalize=function(r){return rgm.vsmult(r,1/rgm.length(r))},rgm.mmult=function(r,t){if(r.length!=t.length)throw Error("mmult: a and b must be the same dimension");for(var n=Math.sqrt(r.length),e=new Float32Array(r.length),a=0;n>a;a++)for(var u=0;n>u;u++){for(var m=0,g=0;n>g;g++)m+=r[a*n+g]*t[g*n+u];e[a*n+u]=m}return e},rgm.transpose=function(r){for(var t=Math.sqrt(r.length),n=new Float32Array(r.length),e=0;t>e;e++)for(var a=0;t>a;a++)n[a*t+e]=r[e*t+a];return n},rgm.mvmult=function(r,t){for(var n=t.length,e=new Float32Array(n),a=0;n>a;a++){e[a]=0;for(var u=0;n>u;u++)e[a]+=r[u*n+a]*t[u]}return e},rgm.qmult=function(r,t){var n=r[3],e=rgm.vec3(r[0],r[1],r[2]),a=t[3],u=rgm.vec3(t[0],t[1],t[2]),m=n*a-rgm.dot(e,u),g=rgm.add(rgm.add(rgm.vsmult(u,n),rgm.vsmult(e,a)),rgm.cross(e,u));return rgm.quat(g[0],g[1],e[2],m)},rgm.radians=function(r){return r*Math.PI/180},rgm.degrees=function(r){return 180*r/Math.PI},rgm.ortho=function(r,t,n,e,a,u){var m=t-r,g=e-n,s=u-a,o=rgm.mat4();return o[0]=2/m,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/g,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-2/s,o[11]=0,o[12]=-(r+t)/m,o[13]=-(e+n)/g,o[14]=-(u+a)/s,o[15]=1,o},rgm.frustum=function(r,t,n,e,a,u){var m=2*a,g=t-r,s=e-n,o=u-a,l=new Float32Array(16);return l[0]=m/g,l[4]=0,l[8]=(t+r)/g,l[12]=0,l[1]=0,l[5]=m/s,l[9]=(e+n)/s,l[13]=0,l[2]=0,l[6]=0,l[10]=(-u-a)/o,l[14]=-m*u/o,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,l},rgm.perspective=function(r,t,n,e){var a=n*Math.tan(rgm.radians(r)),u=a*t;return rgm.frustum(-u,u,-a,a,n,e)},rgm.translate=function(r,t,n,e){var a=rgm.mat4(r);return a[12]=r[0]*t+r[4]*n+r[8]*e+r[12],a[13]=r[1]*t+r[5]*n+r[9]*e+r[13],a[14]=r[2]*t+r[6]*n+r[10]*e+r[14],a[15]=r[3]*t+r[7]*n+r[11]*e+r[15],a},rgm.rotate=function(r,t,n,e,a){var u=rgm.radians(t),m=Math.cos(u),g=Math.sin(u),s=Math.sqrt(n*n+e*e+a*a),o=n/s,l=e/s,c=a/s,h=o*(1-m),i=l*(1-m),f=c*(1-m),w=rgm.mat4(1);w[0]=m+h*o,w[1]=0+h*l+g*c,w[2]=0+h*c-g*l,w[4]=0+i*o-g*c,w[5]=m+i*l,w[6]=0+i*c+g*o,w[8]=0+f*o+g*l,w[9]=0+f*l-g*o,w[10]=m+f*c;var v=rgm.mmult(r,w);return v[12]=r[12],v[13]=r[13],v[14]=r[14],v[15]=r[15],v},rgm.scale=function(r,t,n,e){var a=rgm.mat4(1);return a[0]=r[0]*t,a[1]=r[1]*t,a[2]=r[2]*t,a[3]=r[3]*t,a[4]=r[4]*n,a[5]=r[5]*n,a[6]=r[6]*n,a[7]=r[7]*n,a[8]=r[8]*e,a[9]=r[9]*e,a[10]=r[10]*e,a[11]=r[11]*e,a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15],a};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9zb3VyY2UvX2luaXRfLmpzIiwiL3NvdXJjZS9jb25zdHJ1Y3RvcnMuanMiLCIvc291cmNlL2Z1bmN0aW9ucy5qcyIsIi9zb3VyY2UvdHJhbnNmb3Jtcy5qcyJdLCJuYW1lcyI6WyJyZ20iLCJ2ZXJzaW9uIiwidmVjMiIsImFyZ3VtZW50cyIsImxlbmd0aCIsIkZsb2F0MzJBcnJheSIsIkVycm9yIiwidmVjMyIsInZlYzQiLCJtYXQzIiwibWF0NCIsInF1YXQiLCJhZGQiLCJhIiwiYiIsInIiLCJpIiwic3ViIiwibmVnIiwiZG90IiwidiIsImNyb3NzIiwidm11bHQiLCJ2c211bHQiLCJzIiwiTWF0aCIsInNxcnQiLCJub3JtYWxpemUiLCJtbXVsdCIsIm4iLCJqIiwiayIsInRyYW5zcG9zZSIsIm0iLCJtdm11bHQiLCJxbXVsdCIsIndhIiwidmEiLCJ3YiIsInZiIiwidyIsInJhZGlhbnMiLCJkZWdyZWVzIiwiUEkiLCJvcnRobyIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInRvcCIsIm5lYXIiLCJmYXIiLCJybCIsInRiIiwiZm4iLCJmcnVzdHVtIiwiem5lYXIiLCJ6ZmFyIiwidDEiLCJ0MiIsInQzIiwidDQiLCJwZXJzcGVjdGl2ZSIsImZvdnkiLCJhc3BlY3QiLCJ5bWF4IiwidGFuIiwieG1heCIsInRyYW5zbGF0ZSIsIngiLCJ5IiwieiIsInJvdGF0ZSIsImFuZ2xlIiwiYyIsImNvcyIsInNpbiIsImwiLCJueCIsIm55IiwibnoiLCJ0MCIsImQiLCJzY2FsZSJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBQUEsTUFBQUMsUUFBQSxRQ0FBRCxLQUFBRSxLQUFBLFdBQ0EsT0FBQUMsVUFBQUMsUUFFQSxJQUFBLEdBQ0EsTUFBQSxJQUFBQyxjQUFBLEVBQ0EsS0FBQSxHQUNBLE1BQUEsZ0JBQUFGLFdBQUEsR0FDQSxHQUFBRSxlQUFBRixVQUFBLEdBQUFBLFVBQUEsS0FHQSxHQUFBRSxjQUFBRixVQUFBLEdBRUEsS0FBQSxHQUNBLE1BQUEsSUFBQUUsZUFBQUYsVUFBQSxHQUFBQSxVQUFBLElBQ0EsU0FDQSxLQUFBLElBQUFHLE9BQUEsdUNBSUFOLElBQUFPLEtBQUEsV0FDQSxPQUFBSixVQUFBQyxRQUVBLElBQUEsR0FDQSxNQUFBLElBQUFDLGNBQUEsRUFDQSxLQUFBLEdBQ0EsTUFBQSxnQkFBQUYsV0FBQSxHQUNBLEdBQUFFLGVBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBQSxVQUFBLEtBR0EsR0FBQUUsY0FBQUYsVUFBQSxHQUVBLEtBQUEsR0FDQSxNQUFBLElBQUFFLGVBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBQSxVQUFBLElBQ0EsU0FDQSxLQUFBLElBQUFHLE9BQUEsdUNBSUFOLElBQUFRLEtBQUEsV0FDQSxPQUFBTCxVQUFBQyxRQUVBLElBQUEsR0FDQSxNQUFBLElBQUFDLGNBQUEsRUFDQSxLQUFBLEdBQ0EsTUFBQSxnQkFBQUYsV0FBQSxHQUNBLEdBQUFFLGVBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBQSxVQUFBLEdBQUFBLFVBQUEsS0FHQSxHQUFBRSxjQUFBRixVQUFBLEdBRUEsS0FBQSxHQUNBLE1BQUEsSUFBQUUsZUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUFBLFVBQUEsR0FBQUEsVUFBQSxJQUNBLFNBQ0EsS0FBQSxJQUFBRyxPQUFBLHVDQUlBTixJQUFBUyxLQUFBLFdBQ0EsT0FBQU4sVUFBQUMsUUFFQSxJQUFBLEdBQ0EsTUFBQSxJQUFBQyxlQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxHQUNBLEtBQUEsR0FDQSxNQUFBLGdCQUFBRixXQUFBLEdBQ0EsR0FBQUUsZUFBQUYsVUFBQSxHQUFBLEVBQUEsRUFDQSxFQUFBQSxVQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUFBLFVBQUEsS0FHQSxHQUFBRSxjQUFBRixVQUFBLEdBRUEsS0FBQSxHQUNBLE1BQUEsSUFBQUUsZUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUFBLFVBQUEsR0FDQUEsVUFBQSxHQUFBQSxVQUFBLEdBQUFBLFVBQUEsR0FDQUEsVUFB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QixFQUFBLEdBQUFxQyxFQUNBdkQsRUFBQSxHQUFBa0IsRUFBQSxHQUFBcUMsRUFDQXZELEVBQUEsSUFBQWtCLEVBQUEsSUFBQXFDLEVBQ0F2RCxFQUFBLElBQUFrQixFQUFBLElBQUFxQyxFQUVBdkQsRUFBQSxJQUFBa0IsRUFBQSxJQUNBbEIsRUFBQSxJQUFBa0IsRUFBQSxJQUNBbEIsRUFBQSxJQUFBa0IsRUFBQSxJQUNBbEIsRUFBQSxJQUFBa0IsRUFBQSxJQUVBbEIiLCJmaWxlIjoicmdtLTAuMS4wLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgcmdtID0ge3ZlcnNpb246IFwiMC4xLjBcIn07XHJcbiIsIlxyXG5yZ20udmVjMiA9IGZ1bmN0aW9uICgpIHtcclxuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpXHJcbiAge1xyXG4gICAgY2FzZSAwOlxyXG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyKTtcclxuICAgIGNhc2UgMTpcclxuICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMF1dKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShhcmd1bWVudHNbMF0pO1xyXG4gICAgICB9XHJcbiAgICBjYXNlIDI6XHJcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFthcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXV0pO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2ZWMyOiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMnKTtcclxuICB9XHJcbn1cclxuXHJcbnJnbS52ZWMzID0gZnVuY3Rpb24gKCkge1xyXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aClcclxuICB7XHJcbiAgICBjYXNlIDA6XHJcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFthcmd1bWVudHNbMF0sIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzBdXSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYXJndW1lbnRzWzBdKTtcclxuICAgICAgfVxyXG4gICAgY2FzZSAzOlxyXG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXV0pO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2ZWMzOiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMnKTtcclxuICB9XHJcbn1cclxuXHJcbnJnbS52ZWM0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aClcclxuICB7XHJcbiAgICBjYXNlIDA6XHJcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQpO1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFthcmd1bWVudHNbMF0sIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMF1dKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShhcmd1bWVudHNbMF0pO1xyXG4gICAgICB9XHJcbiAgICBjYXNlIDQ6XHJcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFthcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM11dKTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcigndmVjNDogaW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzJyk7XHJcbiAgfVxyXG59XHJcblxyXG5yZ20ubWF0MyA9IGZ1bmN0aW9uICgpIHtcclxuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpXHJcbiAge1xyXG4gICAgY2FzZSAwOlxyXG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMS4wLCAwLjAsIDAuMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgMS4wLCAwLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjAsIDAuMCwgMS4wXSk7XHJcbiAgICBjYXNlIDE6XHJcbiAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoW2FyZ3VtZW50c1swXSwgICAgICAgICAgMC4wLCAgICAgICAgICAwLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgYXJndW1lbnRzWzBdLCAgICAgICAgICAwLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgICAgICAgICAgMC4wLCBhcmd1bWVudHNbMF1dKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShhcmd1bWVudHNbMF0pO1xyXG4gICAgICB9XHJcbiAgICBjYXNlIDk6XHJcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFthcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1szXSwgYXJndW1lbnRzWzRdLCBhcmd1bWVudHNbNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbNl0sIGFyZ3VtZW50c1s3XSwgYXJndW1lbnRzWzhdXSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZlYzI6IGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xyXG4gIH1cclxufVxyXG5cclxucmdtLm1hdDQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKVxyXG4gIHtcclxuICAgIGNhc2UgMDpcclxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEuMCwgMC4wLCAwLjAsIDAuMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgMS4wLCAwLjAsIDAuMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgMC4wLCAxLjAsIDAuMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEuMF0pO1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFthcmd1bWVudHNbMF0sICAgICAgICAgIDAuMCwgICAgICAgICAgMC4wLCAgICAgICAgICAwLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMCwgYXJndW1lbnRzWzBdLCAgICAgICAgICAwLjAsICAgICAgICAgIDAuMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4wLCAgICAgICAgICAwLjAsIGFyZ3VtZW50c1swXSwgICAgICAgICAgMC4wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjAsICAgICAgICAgIDAuMCwgICAgICAgICAgMC4wLCBhcmd1bWVudHNbMF1dKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShhcmd1bWVudHNbMF0pO1xyXG4gICAgICB9XHJcbiAgICBjYXNlIDE2OlxyXG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbYXJndW1lbnRzWyAwXSwgYXJndW1lbnRzWyAxXSwgYXJndW1lbnRzWyAyXSwgYXJndW1lbnRzWyAzXSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbIDRdLCBhcmd1bWVudHNbIDVdLCBhcmd1bWVudHNbIDZdLCBhcmd1bWVudHNbIDddLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1sgOF0sIGFyZ3VtZW50c1sgOV0sIGFyZ3VtZW50c1sxMF0sIGFyZ3VtZW50c1sxMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMTJdLCBhcmd1bWVudHNbMTNdLCBhcmd1bWVudHNbMTRdLCBhcmd1bWVudHNbMTVdXSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZlYzI6IGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xyXG4gIH1cclxufVxyXG5cclxucmdtLnF1YXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKVxyXG4gIHtcclxuICAgIGNhc2UgMDpcclxuICAgICAgcmV0dXJuIHJnbS52ZWM0KDAsIDAsIDAsIDEpO1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICByZXR1cm4gcmdtLnZlYzQoYXJndW1lbnRzWzBdKTsgICAgIFxyXG4gICAgY2FzZSA0OlxyXG4gICAgICByZXR1cm4gcmdtLnZlYzQoW2FyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXV0pO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2ZWMyOiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMnKTtcclxuICB9XHJcbn1cclxuIiwiXHJcbnJnbS5hZGQgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkge1xyXG4gICAgdGhyb3cgRXJyb3IoJ2FkZDogYSBhbmQgYiBtdXN0IGJlIHRoZSBzYW1lIGRpbWVuc2lvbicpO1xyXG4gIH1cclxuICBcclxuICB2YXIgciA9IG5ldyBGbG9hdDMyQXJyYXkoYS5sZW5ndGgpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xyXG4gICAgcltpXSA9IGFbaV0gKyBiW2ldO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gcjtcclxufVxyXG5cclxucmdtLnN1YiA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBFcnJvcignc3ViOiBhIGFuZCBiIG11c3QgYmUgdGhlIHNhbWUgZGltZW5zaW9uJyk7XHJcbiAgfVxyXG4gIFxyXG4gIHZhciByID0gbmV3IEZsb2F0MzJBcnJheShhLmxlbmd0aCk7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICByW2ldID0gYVtpXSAtIGJbaV07XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5yZ20ubmVnID0gZnVuY3Rpb24gKGEpIHtcclxuICB2YXIgciA9IG5ldyBGbG9hdDMyQXJyYXkoYS5sZW5ndGgpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xyXG4gICAgcltpXSA9IC1hW2ldO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gcjtcclxufVxyXG5cclxucmdtLmRvdCA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgdmFyIHYgPSAwO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xyXG4gICAgdiArPSBhW2ldICogYltpXTtcclxuICB9XHJcbiAgcmV0dXJuIHY7XHJcbn1cclxuXHJcbnJnbS5jcm9zcyA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgaWYgKGEubGVuZ3RoICE9IDMgfHxcclxuICAgICAgYi5sZW5ndGggIT0gMykge1xyXG4gICAgdGhyb3cgRXJyb3IoJ2Nyb3NzOiBhIGFuZCBiIG11c3QgYmUgM0QnKTtcclxuICB9XHJcbiAgXHJcbiAgdmFyIHIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gIFxyXG4gIHJbMF0gPSAoYVsxXSAqIGJbMl0pIC0gKGFbMl0gKiBiWzFdKTtcclxuICByWzFdID0gKGFbMl0gKiBiWzBdKSAtIChhWzBdICogYlsyXSk7XHJcbiAgclsyXSA9IChhWzBdICogYlsxXSkgLSAoYVsxXSAqIGJbMF0pO1xyXG4gIFxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5yZ20udm11bHQgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkge1xyXG4gICAgdGhyb3cgRXJyb3IoJ3ZtdWx0OiBhIGFuZCBiIG11c3QgYmUgdGhlIHNhbWUgZGltZW5zaW9uJyk7XHJcbiAgfVxyXG4gIFxyXG4gIHZhciByID0gbmV3IEZsb2F0MzJBcnJheShhLmxlbmd0aCk7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICByW2ldID0gYVtpXSAqIGJbaV07XHJcbiAgfVxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5yZ20udnNtdWx0ID0gZnVuY3Rpb24gKHYsIHMpIHtcclxuICB2YXIgciA9IG5ldyBGbG9hdDMyQXJyYXkodi5sZW5ndGgpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykge1xyXG4gICAgcltpXSA9IHZbaV0gKiBzO1xyXG4gIH1cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxucmdtLmxlbmd0aCA9IGZ1bmN0aW9uICh2KSB7ICBcclxuICByZXR1cm4gTWF0aC5zcXJ0KHJnbS5kb3QodiwgdikpO1xyXG59XHJcblxyXG5yZ20ubm9ybWFsaXplID0gZnVuY3Rpb24gKHYpIHtcclxuICByZXR1cm4gcmdtLnZzbXVsdCh2LCAxLjAgLyByZ20ubGVuZ3RoKHYpKTtcclxufVxyXG5cclxucmdtLm1tdWx0ID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHtcclxuICAgIHRocm93IEVycm9yKCdtbXVsdDogYSBhbmQgYiBtdXN0IGJlIHRoZSBzYW1lIGRpbWVuc2lvbicpO1xyXG4gIH1cclxuICBcclxuICB2YXIgbiA9IE1hdGguc3FydChhLmxlbmd0aCk7XHJcbiAgdmFyIHIgPSBuZXcgRmxvYXQzMkFycmF5KGEubGVuZ3RoKTtcclxuICBcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcclxuICAgICAgdmFyIHYgPSAwO1xyXG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykge1xyXG4gICAgICAgIHYgPSB2ICsgYVtpKm4ra10gKiBiW2sqbitqXTtcclxuICAgICAgfVxyXG4gICAgICByW2kqbitqXSA9IHY7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5yZ20udHJhbnNwb3NlID0gZnVuY3Rpb24obSkgeyAgICBcclxuICB2YXIgbiA9IE1hdGguc3FydChtLmxlbmd0aCk7XHJcbiAgdmFyIHIgPSBuZXcgRmxvYXQzMkFycmF5KG0ubGVuZ3RoKTtcclxuICBcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcclxuICAgICAgcltqKm4raV0gPSBtW2kqbitqXTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbnJnbS5tdm11bHQgPSBmdW5jdGlvbiAobSwgdikge1xyXG5cdHZhciBuID0gdi5sZW5ndGg7XHJcblx0dmFyIHIgPSBuZXcgRmxvYXQzMkFycmF5KG4pO1xyXG5cdFxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKVxyXG5cdHtcclxuXHRcdHJbaV0gPSAwO1xyXG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspXHJcblx0XHR7XHJcblx0XHRcdFx0cltpXSArPSBtW2oqbitpXSAqIHZbal07XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHJldHVybiByO1xyXG59XHJcblxyXG5yZ20ucW11bHQgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gIHZhciB3YSA9IGFbM107XHJcbiAgdmFyIHZhID0gcmdtLnZlYzMoYVswXSwgYVsxXSwgYVsyXSk7XHJcbiAgdmFyIHdiID0gYlszXTtcclxuICB2YXIgdmIgPSByZ20udmVjMyhiWzBdLCBiWzFdLCBiWzJdKTtcclxuICBcclxuICB2YXIgdyA9IHdhICogd2IgLSByZ20uZG90KHZhLCB2Yik7XHJcbiAgdmFyIHYgPSByZ20uYWRkKHJnbS5hZGQocmdtLnZzbXVsdCh2Yiwgd2EpLCByZ20udnNtdWx0KHZhLCB3YikpLCByZ20uY3Jvc3ModmEsIHZiKSk7XHJcblxyXG4gIHJldHVybiByZ20ucXVhdCh2WzBdLCB2WzFdLCB2YVsyXSwgdyk7XHJcbn1cclxuXHJcbiIsIlxyXG5cclxucmdtLnJhZGlhbnMgPSBmdW5jdGlvbihkZWdyZWVzKSB7XHJcbiAgcmV0dXJuIGRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwO1xyXG59O1xyXG5cclxucmdtLmRlZ3JlZXMgPSBmdW5jdGlvbihyYWRpYW5zKSB7XHJcbiAgcmV0dXJuIHJhZGlhbnMgKiAxODAgLyBNYXRoLlBJO1xyXG59OyBcclxuXHJcblxyXG5yZ20ub3J0aG8gPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcclxuICB2YXIgcmwgPSAocmlnaHQgLSBsZWZ0KTtcclxuICB2YXIgdGIgPSAodG9wIC0gYm90dG9tKTtcclxuICB2YXIgZm4gPSAoZmFyIC0gbmVhcik7XHJcbiAgXHJcbiAgdmFyIG0gPSByZ20ubWF0NCgpOyAgXHJcbiAgXHJcbiAgbVswXSA9IDIgLyBybDtcclxuICBtWzFdID0gMDtcclxuICBtWzJdID0gMDtcclxuICBtWzNdID0gMDtcclxuICBtWzRdID0gMDtcclxuICBtWzVdID0gMiAvIHRiO1xyXG4gIG1bNl0gPSAwO1xyXG4gIG1bN10gPSAwO1xyXG4gIG1bOF0gPSAwO1xyXG4gIG1bOV0gPSAwO1xyXG4gIG1bMTBdID0gLTIgLyBmbjtcclxuICBtWzExXSA9IDA7XHJcbiAgbVsxMl0gPSAtKGxlZnQgKyByaWdodCkgLyBybDtcclxuICBtWzEzXSA9IC0odG9wICsgYm90dG9tKSAvIHRiO1xyXG4gIG1bMTRdID0gLShmYXIgKyBuZWFyKSAvIGZuO1xyXG4gIG1bMTVdID0gMTtcclxuXHJcbiAgcmV0dXJuIG07XHJcbn1cclxuXHJcbnJnbS5mcnVzdHVtID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIpIHtcclxuICB2YXIgdDEgPSAyICogem5lYXI7XHJcbiAgdmFyIHQyID0gcmlnaHQgLSBsZWZ0O1xyXG4gIHZhciB0MyA9IHRvcCAtIGJvdHRvbTtcclxuICB2YXIgdDQgPSB6ZmFyIC0gem5lYXI7XHJcblxyXG4gIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XHJcbiAgXHJcbiAgbVswXSA9IHQxL3QyOyBtWzRdID0gICAgIDA7IG1bIDhdID0gIChyaWdodCArIGxlZnQpIC8gdDI7IG1bMTJdID0gICAgICAgICAgICAgICAgIDA7XHJcbiAgbVsxXSA9ICAgICAwOyBtWzVdID0gdDEvdDM7IG1bIDldID0gICh0b3AgKyBib3R0b20pIC8gdDM7IG1bMTNdID0gICAgICAgICAgICAgICAgIDA7XHJcbiAgbVsyXSA9ICAgICAwOyBtWzZdID0gICAgIDA7IG1bMTBdID0gKC16ZmFyIC0gem5lYXIpIC8gdDQ7IG1bMTRdID0gKC10MSAqIHpmYXIpIC8gdDQ7XHJcbiAgbVszXSA9ICAgICAwOyBtWzddID0gICAgIDA7IG1bMTFdID0gICAgICAgICAgICAgICAgICAgLTE7IG1bMTVdID0gICAgICAgICAgICAgICAgIDA7XHJcbiAgXHJcbiAgcmV0dXJuIG07XHJcbn1cclxuXHJcbnJnbS5wZXJzcGVjdGl2ZSA9IGZ1bmN0aW9uIChmb3Z5LCBhc3BlY3QsIHpuZWFyLCB6ZmFyKSB7XHJcbiAgdmFyIHltYXggPSB6bmVhciAqIE1hdGgudGFuKHJnbS5yYWRpYW5zKGZvdnkpKTtcclxuICB2YXIgeG1heCA9IHltYXggKiBhc3BlY3Q7XHJcbiAgcmV0dXJuIHJnbS5mcnVzdHVtKC14bWF4LCB4bWF4LCAteW1heCwgeW1heCwgem5lYXIsIHpmYXIpO1xyXG59XHJcblxyXG4vLyBOT1RFOiB0aGlzIGlzIGluZWZmaWNpZW50LCBpdCBtYXkgYmUgc2Vuc2libGUgdG8gcHJvdmlkZSBpbnBsYWNlIHZlcnNpb25zXHJcbnJnbS50cmFuc2xhdGUgPSBmdW5jdGlvbihtLCB4LCB5LCB6KSB7ICAgIFxyXG4gIHZhciByID0gcmdtLm1hdDQobSk7XHJcbiAgclsxMl0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVsgOF0gKiB6ICsgbVsxMl07XHJcbiAgclsxM10gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVsgOV0gKiB6ICsgbVsxM107XHJcbiAgclsxNF0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF07XHJcbiAgclsxNV0gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbnJnbS5yb3RhdGUgPSBmdW5jdGlvbiAobSwgYW5nbGUsIHgsIHksIHopIHsgIFxyXG4gIHZhciBhID0gcmdtLnJhZGlhbnMoYW5nbGUpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MoYSk7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihhKTtcclxuICBcclxuICB2YXIgbCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xyXG4gIHZhciBueCA9IHggLyBsO1xyXG4gIHZhciBueSA9IHkgLyBsO1xyXG4gIHZhciBueiA9IHogLyBsO1xyXG5cclxuICB2YXIgdDAgPSBueCAqICgxIC0gYyk7XHJcbiAgdmFyIHQxID0gbnkgKiAoMSAtIGMpO1xyXG4gIHZhciB0MiA9IG56ICogKDEgLSBjKTsgIFxyXG5cclxuICB2YXIgZCA9IHJnbS5tYXQ0KDEpO1xyXG4gIFxyXG4gIGRbIDBdID0gYyArIHQwICogbng7XHJcbiAgZFsgMV0gPSAwICsgdDAgKiBueSArIHMgKiBuejtcclxuICBkWyAyXSA9IDAgKyB0MCAqIG56IC0gcyAqIG55O1xyXG5cclxuICBkWyA0XSA9IDAgKyB0MSAqIG54IC0gcyAqIG56O1xyXG4gIGRbIDVdID0gYyArIHQxICogbnk7XHJcbiAgZFsgNl0gPSAwICsgdDEgKiBueiArIHMgKiBueDtcclxuXHJcbiAgZFsgOF0gPSAwICsgdDIgKiBueCArIHMgKiBueTtcclxuICBkWyA5XSA9IDAgKyB0MiAqIG55IC0gcyAqIG54O1xyXG4gIGRbMTBdID0gYyArIHQyICogbno7ICBcclxuICBcclxuICB2YXIgciA9IHJnbS5tbXVsdChtLCBkKTtcclxuICBcclxuICByWzEyXSA9IG1bMTJdO1xyXG4gIHJbMTNdID0gbVsxM107XHJcbiAgclsxNF0gPSBtWzE0XTtcclxuICByWzE1XSA9IG1bMTVdO1xyXG4gIFxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5yZ20uc2NhbGUgPSBmdW5jdGlvbihtLCB4LCB5LCB6KSB7ICAgIFxyXG4gIHZhciByID0gcmdtLm1hdDQoMSk7XHJcbiAgXHJcbiAgclsgMF0gPSBtWyAwXSAqIHg7IFxyXG4gIHJbIDFdID0gbVsgMV0gKiB4OyBcclxuICByWyAyXSA9IG1bIDJdICogeDsgXHJcbiAgclsgM10gPSBtWyAzXSAqIHg7IFxyXG4gIFxyXG4gIHJbIDRdID0gbVsgNF0gKiB5OyBcclxuICByWyA1XSA9IG1bIDVdICogeTsgXHJcbiAgclsgNl0gPSBtWyA2XSAqIHk7IFxyXG4gIHJbIDddID0gbVsgN10gKiB5OyBcclxuICBcclxuICByWyA4XSA9IG1bIDhdICogejtcclxuICByWyA5XSA9IG1bIDldICogejtcclxuICByWzEwXSA9IG1bMTBdICogejtcclxuICByWzExXSA9IG1bMTFdICogejtcclxuICBcclxuICByWzEyXSA9IG1bMTJdO1xyXG4gIHJbMTNdID0gbVsxM107XHJcbiAgclsxNF0gPSBtWzE0XTtcclxuICByWzE1XSA9IG1bMTVdO1xyXG4gIFxyXG4gIHJldHVybiByO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==